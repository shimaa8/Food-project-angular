"use strict";(self.webpackChunkfoodApp=self.webpackChunkfoodApp||[]).push([[662],{9662:(g,d,r)=>{r.r(d),r.d(d,{DashboardModule:()=>U});var a=r(6895),t=r(4650),c=r(6104),i=r(3456),p=r(2486);function u(e,l){if(1&e&&t._UZ(0,"img",11),2&e){const o=t.oxw(2);t.Q6J("src","https://upskilling-egypt.com/"+o.currentUser.imagePath,t.LSH)}}function m(e,l){1&e&&t._UZ(0,"img",12)}function h(e,l){if(1&e&&(t.TgZ(0,"div",5)(1,"div",6),t.YNc(2,u,1,1,"img",7),t.YNc(3,m,1,0,"img",8),t.qZA(),t.TgZ(4,"span")(5,"span",9),t._uU(6),t.qZA(),t.TgZ(7,"span",10),t._uU(8),t.qZA()()()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.currentUser.imagePath),t.xp6(1),t.Q6J("ngIf",!o.currentUser.imagePath),t.xp6(3),t.hij(" ",o.currentUser.userName," "),t.xp6(2),t.Oqu(o.currentUser.group.name)}}let f=(()=>{class e{constructor(o){this._HelperService=o,this.userName=localStorage.getItem("userName")?localStorage.getItem("userName"):"Guest",o.getCurrentUser().subscribe({next:n=>{console.log(n),this.currentUser=n}})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(p.W))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-navbar"]],decls:5,vars:1,consts:[["id","navbar"],[1,"container"],[1,"row"],[1,"col-3","ms-auto"],["class","user-profile d-flex align-items-center",4,"ngIf"],[1,"user-profile","d-flex","align-items-center"],[1,"user-avater","mx-2"],["alt","",3,"src",4,"ngIf"],["src","../../../assets/images/kate.png","alt","",4,"ngIf"],[1,"h6"],[1,"d-block","text-muted"],["alt","",3,"src"],["src","../../../assets/images/kate.png","alt",""]],template:function(n,s){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,h,9,4,"div",4),t.qZA()()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",s.currentUser))},dependencies:[a.O5],styles:["#navbar[_ngcontent-%COMP%]{background-color:#f8f9fb;padding:1rem 0px}#navbar[_ngcontent-%COMP%]   .user-avater[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}#navbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}#navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f384c}"]})}return e})();const v=function(e){return{"d-none":e}};function C(e,l){if(1&e&&(t.TgZ(0,"a",13)(1,"div",6)(2,"span"),t._UZ(3,"i"),t.qZA(),t.TgZ(4,"span",14),t._uU(5),t.qZA()()()),2&e){const o=t.oxw().$implicit,n=t.oxw();t.Q6J("routerLink",o.link),t.xp6(3),t.Tol(o.icon),t.xp6(1),t.Q6J("ngClass",t.VKq(5,v,!n.isOpened)),t.xp6(1),t.hij("",o.title," ")}}function A(e,l){if(1&e&&(t.ynx(0),t.YNc(1,C,6,7,"a",12),t.BQk()),2&e){const o=l.$implicit;t.xp6(1),t.Q6J("ngIf",o.isActive)}}let b=(()=>{class e{constructor(o,n){this._AuthService=o,this.router=n,this.isOpened=!0,this.menu=[{title:"Home",icon:"fa-solid fa-house",link:"/dashboard/home",isActive:this.isAdmin()||this.isUser()},{title:"Users",icon:"fa-solid fa-user-group",link:"/dashboard/admin/users",isActive:this.isAdmin()},{title:"Recipes",icon:"fa-solid fa-bowl-food",link:"/dashboard/admin/recipes",isActive:this.isAdmin()},{title:"Categories",icon:"fa-solid fa-calendar-days",link:"/dashboard/admin/categories",isActive:this.isAdmin()},{title:"User Recipes",icon:"fa-solid fa-bowl-food",link:"/dashboard/user/recipes",isActive:this.isUser()},{title:"favoriets",icon:"fa-solid fa-bowl-food",link:"/dashboard/user/favoriets",isActive:this.isUser()}]}ngOnInit(){}isAdmin(){return"SuperAdmin"==this._AuthService.role}isUser(){return"SystemUser"==this._AuthService.role}logout(){localStorage.removeItem("userToken"),localStorage.removeItem("role"),localStorage.removeItem("userName"),this.router.navigate(["/auth"])}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.e),t.Y36(i.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:21,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"px-0","bgDark","sideBar","vh-100"],[1,"text-center","mt-3",3,"click"],["src","../../assets/images/3.png","alt","",1,"w-50"],[4,"ngFor","ngForOf"],[1,"item"],[1,"fa-solid","fa-lock-open"],[1,"mx-2"],[1,"item",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,""],["class","d-block text-decoration-none ","routerLinkActive","bg-active",3,"routerLink",4,"ngIf"],["routerLinkActive","bg-active",1,"d-block","text-decoration-none",3,"routerLink"],[1,"mx-2",3,"ngClass"]],template:function(n,s){1&n&&(t.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div")(5,"div",3),t.NdJ("click",function(){return s.isOpened=!s.isOpened}),t._UZ(6,"img",4),t.qZA(),t.YNc(7,A,2,1,"ng-container",5),t.TgZ(8,"div",6)(9,"span"),t._UZ(10,"i",7),t.qZA(),t.TgZ(11,"span",8),t._uU(12,"Change Password"),t.qZA()(),t.TgZ(13,"div",9),t.NdJ("click",function(){return s.logout()}),t.TgZ(14,"span"),t._UZ(15,"i",10),t.qZA(),t.TgZ(16,"span",8),t._uU(17,"Logout"),t.qZA()()()(),t.TgZ(18,"div",11),t._UZ(19,"app-navbar")(20,"router-outlet"),t.qZA()()()()),2&n&&(t.xp6(3),t.Tol(s.isOpened?"col-2 ":"col-1"),t.xp6(4),t.Q6J("ngForOf",s.menu),t.xp6(11),t.Tol(s.isOpened?"col-10 ":"col-11"))},dependencies:[a.mk,a.sg,a.O5,f,i.lC,i.rH,i.Od],styles:[".sideBar[_ngcontent-%COMP%]{border-top-right-radius:58px}.item[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;padding:5px 15px;margin:1rem 0px;cursor:pointer}.bg-active[_ngcontent-%COMP%]{background-color:#0092471a!important}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{transition:all 1s}"]})}return e})();var x=r(1961);const Z=[{path:"",component:b,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class e{constructor(){this.userName=localStorage.getItem("userName")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:12,vars:1,consts:[[1,"home"],[1,"container"],[1,"row"],[1,"col-md-8","d-flex","align-items-center"],[1,"col-md-4"],["src","../../../assets/images/home-avatar.svg","alt","",1,"w-100"]],template:function(n,s){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8,"This is a welcoming screen for the entry of the application , you can now see the options"),t.qZA()()(),t.TgZ(9,"div",4)(10,"div"),t._UZ(11,"img",5),t.qZA()()()()()),2&n&&(t.xp6(6),t.hij("Welcome ",s.userName,""))},styles:[".home[_ngcontent-%COMP%]{background-image:url(header-bg-svg.e7cd2c7a9e952177.svg);background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:15px;color:#fff}"]})}return e})()},{path:"admin",canActivate:[(()=>{class e{constructor(o,n){this.router=o,this._AuthService=n,n.getProfile()}canActivate(o,n){return null!==localStorage.getItem("userToken")&&"SuperAdmin"==localStorage.getItem("role")||(this.router.navigate(["/dashboard"]),!1)}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(i.F0),t.LFG(c.e))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()],loadChildren:()=>r.e(99).then(r.bind(r,6099)).then(e=>e.AdminModule)},{path:"user",canActivate:[(()=>{class e{constructor(o,n){this.router=o,this._AuthService=n,n.getProfile()}canActivate(o,n){return null!==localStorage.getItem("userToken")&&"SystemUser"==localStorage.getItem("role")||(this.router.navigate(["/dashboard"]),!1)}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(i.F0),t.LFG(c.e))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()],loadChildren:()=>r.e(738).then(r.bind(r,738)).then(e=>e.UserModule)}]}];let U=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[a.ez,x.S,i.Bz.forChild(Z)]})}return e})()},2486:(g,d,r)=>{r.d(d,{W:()=>c});var a=r(4650),t=r(529);let c=(()=>{class i{constructor(u){this._HttpClient=u}getTags(){return this._HttpClient.get("tag")}getCategories(){return this._HttpClient.get("Category",{params:{pageSize:100}})}getCurrentUser(){return this._HttpClient.get("Users/currentUser")}static#t=this.\u0275fac=function(m){return new(m||i)(a.LFG(t.eN))};static#e=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);